<!DOCTYPE html><html lang="ar" dir="rtl">
<!--
  @file login.html
  @description صفحة تسجيل الدخول وإدارة حساب المستخدم.

  هذه الصفحة تخدم غرضين:
  1.  عرض نموذج تسجيل الدخول للمستخدمين غير المسجلين.
  2.  بعد تسجيل الدخول، تتحول إلى لوحة تحكم بسيطة تعرض رسالة ترحيب، زر لإضافة منتج (للبائعين)، وزر لعرض المستخدمين (للمسؤولين).
-->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تسجيل الدخول - Suez Bazaar</title>
  <!-- Link to shared styles -->
  <link rel="stylesheet" href="css/style.css" /> <!-- تمت إضافة هذا السطر -->
  <!-- Link to login page specific styles -->
  <link rel="stylesheet" href="css/login.css" />
  <link rel="stylesheet" href="css/login-page.css" /> <!-- ✅ جديد: ملف الأنماط المنفصل -->
  <!-- Global Config -->
  <script src="js/config.js"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>
  <!-- Header بسيط للاتساق -->
  <div class="container" id="header-container">
    <a href="index.html" class="header-title-group" style="text-decoration: none; color: inherit">
      <h1 class="bazaar-title final-text">SB</h1>
      <p class="tagline" style="opacity: 1; margin-right: 1.5rem">
        بازار السويس
      </p>
    </a>
    <a href="index.html" class="back-to-home-btn" title="العودة للصفحة الرئيسية">
      <i class="fas fa-home"></i>
      <span>العودة للرئيسية</span>
    </a>
  </div>

  <!-- حاوية بديلة للمستخدم المسجل دخوله -->
  <div id="logged-in-container" class="login-page-wrapper" style="display: none">
    <div class="login-container">
      <h2 id="welcome-message"></h2>
      <!-- Container for action buttons -->
      <div class="action-buttons">
        <button
          id="add-product-btn"
          class="button logout-btn-small"
          style="display: none"
        >
          <i class="fas fa-plus"></i> إضافة منتج
        </button>
        <button
          id="view-my-products-btn"
          class="button logout-btn-small"
          style="display: none"
        ><i class="fas fa-store"></i> عرض منتجاتي</button>
        <button id="view-cart-btn" class="button logout-btn-small" style="display: none;">
          <i class="fas fa-shopping-cart"></i> عرض السلة
        </button>
        <button id="view-purchases-btn" class="button logout-btn-small" style="display: none;">
          <i class="fas fa-history"></i> المشتريات
        </button>
        <!-- جديد: زر تعديل البيانات -->
        <button id="edit-profile-btn" class="button logout-btn-small" style="display: none;">
          <i class="fas fa-user-edit"></i> تعديل البيانات
        </button>
        <button
          id="logout-btn-alt"
          class="button logout-btn-small">
          <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
        </button>
      </div>
      <!-- حاوية لعرض جدول المستخدمين -->
      <div id="users-table-container" style="width: 100%; margin-top: 20px; display: none;">
        <div id="table-content-wrapper"></div> <!-- حاوية مخصصة للجدول أو التحميل -->
        <div id="table-actions" style="display: none; margin-top: 15px; gap: 10px;">
            <button id="update-users-btn" class="button" style="background-color: #28a745;">حفظ التغييرات</button>
            <button id="cancel-update-btn" class="button" style="background-color: #6c757d;">إلغاء التغييرات</button>
        </div>
      </div>
      <!-- جديد: حاوية لعرض جدول منتجاتي -->
      <div id="my-products-container">
        <!-- سيتم ملء المحتوى هنا بواسطة جافاسكريبت -->
      </div>
    </div>
  </div>

  <!-- حاوية تسجيل الدخول الافتراضية -->
  <div id="login-form-wrapper" class="login-page-wrapper">
    <div class="login-container">
      <h2>تسجيل الدخول</h2>
      <form id="login-form">
        <div class="form-group">
          <label for="phone"><i class="fas fa-phone"></i> رقم الهاتف</label>
          <input type="tel" id="phone" name="phone" required />
          <div id="phone-error" class="error-message"></div>
        </div>
        <button type="submit" class="button login-btn">تسجيل الدخول</button>
        <div class="form-footer">
          <a href="register.html">ليس لديك حساب؟ <strong>سجل الآن</strong></a>
        </div>
      </form>
    </div>
  </div>

  <!-- حاوية النافذة المنبثقة لإضافة منتج -->
  <div id="add-product-modal" class="modal">
    <!-- سيتم تحميل محتوى نموذج إضافة المنتج هنا -->
  </div>
  <!-- جديد: حاوية النافذة المنبثقة للسلة -->
  <div id="cart-modal-container" class="modal">
    <!-- سيتم ملء محتوى السلة هنا -->
  </div>
  <!-- جديد: حاوية النافذة المنبثقة للمشتريات -->
  <div id="purchases-modal-container" class="modal">
    <!-- سيتم ملء محتوى المشتريات هنا -->
  </div>
  <script src="cloudflare-workers/cloudFileManager.js"></script>
  <script src="js/cart.js"></script> <!-- ✅ إضافة: تحميل ملف السلة -->
  <script src="js/auth.js"></script>
  <script src="js/turo.js"></script>
  <script src="js/login-page.js"></script> <!-- ✅ جديد: ملف الجافاسكريبت المنفصل -->
</body>

</html>