{
  "tableNames": [
    "users",
    "marketplace_products",
    "order_items",
    "user_tokens",
    "updates",
    "orders"
  ],
  "createStatements": {
    "sqlite_sequence": "CREATE TABLE sqlite_sequence(name,seq)",
    "users": "CREATE TABLE users (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  username TEXT NOT NULL,\n  phone TEXT NOT NULL UNIQUE,\n  Password TEXT,\n  Address TEXT,\n  user_key TEXT NOT NULL UNIQUE,\n  is_seller INTEGER DEFAULT 0\n)",
    "marketplace_products": "CREATE TABLE marketplace_products (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  productName TEXT NOT NULL,\n  product_key TEXT NOT NULL UNIQUE,\n  user_key TEXT NOT NULL,\n  product_description TEXT,\n  product_price REAL NOT NULL,\n  product_quantity INTEGER NOT NULL,\n  user_message TEXT,\n  user_note TEXT,\n  ImageName TEXT,\n  MainCategory INTEGER,\n  SubCategory INTEGER,\n  ImageIndex INTEGER, original_price REAL, serviceType INTEGER DEFAULT 0,\n  FOREIGN KEY (user_key) REFERENCES users(user_key)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE\n)",
    "order_items": "CREATE TABLE order_items (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  order_key TEXT NOT NULL,\n  product_key TEXT NOT NULL,\n  quantity INTEGER NOT NULL,\n  seller_key TEXT,  -- البائع (نفس user_key من جدول المنتجات)\n\n  FOREIGN KEY (order_key) REFERENCES orders(order_key) ON DELETE CASCADE ON UPDATE CASCADE,\n  FOREIGN KEY (product_key) REFERENCES marketplace_products(product_key) ON DELETE CASCADE ON UPDATE CASCADE,\n  FOREIGN KEY (seller_key) REFERENCES users(user_key) ON DELETE CASCADE ON UPDATE CASCADE\n)",
    "user_tokens": "CREATE TABLE user_tokens (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  user_key TEXT NOT NULL,\n  fcm_token TEXT NOT NULL,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n, platform TEXT)",
    "updates": "CREATE TABLE updates (\n    Id INTEGER PRIMARY KEY AUTOINCREMENT,\n    txt TEXT,\n    datetime DATETIME DEFAULT CURRENT_TIMESTAMP\n)",
    "orders": "CREATE TABLE \"orders\" (\n\t`order_key` text NOT NULL UNIQUE,\n\t`user_key` text NOT NULL,\n\t`total_amount` real NOT NULL,\n\t`order_status` integer DEFAULT '0' NOT NULL,\n\t`created_at` numeric DEFAULT CURRENT_TIMESTAMP,\n\tFOREIGN KEY (`user_key`) REFERENCES `users`(`user_key`) ON UPDATE NO ACTION ON DELETE NO ACTION\n)"
  },
  "tablesInfo": {
    "users": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ],
    "marketplace_products": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ],
    "order_items": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ],
    "user_tokens": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ],
    "updates": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ],
    "orders": [
      {
        "cid": 0,
        "name": "id",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": null,
        "pk": 1
      },
      {
        "cid": 1,
        "name": "username",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 2,
        "name": "phone",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 3,
        "name": "Password",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 4,
        "name": "Address",
        "type": "TEXT",
        "notnull": 0,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 5,
        "name": "user_key",
        "type": "TEXT",
        "notnull": 1,
        "dflt_value": null,
        "pk": 0
      },
      {
        "cid": 6,
        "name": "is_seller",
        "type": "INTEGER",
        "notnull": 0,
        "dflt_value": "0",
        "pk": 0
      }
    ]
  },
  "foreignKeys": {
    "users": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ],
    "marketplace_products": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ],
    "order_items": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ],
    "user_tokens": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ],
    "updates": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ],
    "orders": [
      {
        "id": 0,
        "seq": 0,
        "table": "users",
        "from": "user_key",
        "to": "user_key",
        "on_update": "CASCADE",
        "on_delete": "CASCADE",
        "match": "NONE"
      }
    ]
  }
}