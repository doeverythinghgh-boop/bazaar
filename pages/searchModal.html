<!--
  @file searchModal.html
  @description محتوى نافذة البحث المنبثقة. يتم تحميل هذا الملف ديناميكيًا في الصفحة الرئيسية.
-->
<div id="search-modal" class="modal">
  <div id="search-modal-content" class="search-modal-content">
    <button id="search-modal-close-btn" class="close-button" aria-label="إغلاق"><i class="fas fa-times"></i></button>
    <h2 id="search-modal-title"><i class="fas fa-search"></i> ابحث في بازار السويس</h2>
    <!-- ✅ تعديل: تغيير هيكل حقل البحث ليتطابق مع نافذة "منتجاتي" -->
    <!-- ✅ تعديل: حاوية جديدة لتجميع حقل البحث وزر البحث -->
    <div class="search-wrapper">
      <div id="search-modal-input-container" class="search-modal-input-container">
      <input type="search" id="search-modal-input" placeholder="اكتب اسم المنتج الذي تبحث عنه..." autocomplete="off" />
    </div>
      <button id="perform-search-btn" class="search-button" aria-label="بحث"><i class="fas fa-search"></i></button>
    </div>
    <!-- ✅ جديد: حاوية لتجميع النص التعريفي ورابط الفلاتر والترتيب -->
    <div class="subtitle-wrapper">
      <p id="search-modal-subtitle">ابحث بالاسم في كل المنتجات</p>
      <a href="#" id="toggle-filters-btn" class="toggle-filters-link">أو حدد فئة <i class="fas fa-chevron-down"></i></a>
      <select id="sort-filter" class="sort-filter" aria-label="ترتيب حسب">
        <option value="default">الترتيب الافتراضي</option>
        <option value="price-asc">الأقل سعراً</option>
        <option value="price-desc">الأعلى سعراً</option>
      </select>
    </div>
    <!-- ✅ جديد: حاوية فلاتر الفئات -->
    <div id="search-filters-container" class="search-filters-container" style="display: none;">
      <div class="filter-group">
        <i class="fas fa-layer-group filter-icon"></i>
        <select id="main-category-filter" class="category-filter" aria-label="الفئة الرئيسية">
          <option value="">كل الفئات الرئيسية</option>
          <!-- سيتم ملؤها بواسطة جافاسكريبت -->
        </select>
      </div>
      <!-- ✅ تعديل: إضافة id وإخفاء الحاوية افتراضيًا -->
      <div class="filter-group" id="sub-category-filter-group" style="display: none;">
        <i class="fas fa-tags filter-icon"></i>
        <select id="sub-category-filter" class="category-filter" disabled aria-label="الفئة الفرعية">
          <option value="">كل الفئات الفرعية</option>
          <!-- سيتم ملؤها بواسطة جافاسكريبت -->
        </select>
      </div>
    </div>
    <div id="search-results-container"></div>
  </div>
</div>